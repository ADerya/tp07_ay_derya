<div><form [formGroup]="carteForm" (ngSubmit)="onSubmit()" class="max-w-sm mx-auto mt-8">
    <div class="mb-4">
      <label for="nomCarte" class="block text-sm font-medium text-gray-700">Nom de la carte :</label>
      <input type="text" id="nomCarte" formControlName="nomCarte" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" />
    <div *ngIf="carteForm.get('nomCarte')?.invalid && (carteForm.get('nomCarte')?.dirty || carteForm.get('nomCarte')?.touched)" class="text-red-500 text-sm mt-1">
      </div>
      <div *ngIf="carteForm.get('nomCarte')?.invalid && (carteForm.get('nomCarte')?.dirty || carteForm.get('nomCarte')?.touched)" class="error-message">
        Le nom de la carte est necessaire.
      </div>
    </div>
    <div class="mb-4">
      <label for="codeCarte" class="block text-sm font-medium text-gray-700">Code de la carte :</label>
      <input type="text" id="codeCarte" formControlName="codeCarte" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" />
      <div *ngIf="carteForm.get('codeCarte')?.invalid && (carteForm.get('codeCarte')?.dirty || carteForm.get('codeCarte')?.touched)" class="error-message">
        Le code de la carte doit contenir 16 caractères.
      </div>
    </div>
    <div class="mb-4">
      <label for="ccv" class="block text-sm font-medium text-gray-700">CCV :</label>
      <input type="text" id="ccv" formControlName="ccv" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" />
      <div *ngIf="carteForm.get('ccv')?.invalid && (carteForm.get('ccv')?.dirty || carteForm.get('ccv')?.touched)" class="error-message">
        Le CCV est invalide.
      </div>
    </div>
        <div class="mb-4">
          <label for="mois" class="block text-sm font-medium text-gray-700">Mois :</label>
          <input type="number" id="mois" formControlName="mois" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" />
          <div *ngIf="carteForm.get('mois')?.invalid && (carteForm.get('mois')?.dirty || carteForm.get('mois')?.touched)" class="error-message">
            Le mois est requis et doit être un nombre valide.
          </div>
        </div>
        <div class="mb-4">
          <label for="annee" class="block text-sm font-medium text-gray-700">Année :</label>
          <input type="number" id="annee" formControlName="annee" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" />
          <div *ngIf="carteForm.get('annee')?.invalid && (carteForm.get('annee')?.dirty || carteForm.get('annee')?.touched)" class="error-message">
            L'année est requise et doit être un nombre valide.
          </div>
        </div>
      
    <button
        class="w-full py-2 px-4 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 focus:outline-none focus:bg-indigo-700 disabled:cursor-default disabled:bg-gray-200 disabled:text-gray-400"
        [disabled]="carteForm.invalid"
      >
        Valider
      </button>
  </form>
</div>

<app-liste-carte></app-liste-carte>